## 内存模型

- [方法区](https://baijiahao.baidu.com/s?id=1731211048001613394&wfr=spider&for=pc)

	> JDK1.7及之前的实现叫做永久代，包括类信息，常量，静态变量以及【类常量池，字符串常量池，运行时常量池，封装类常量池。1.7将字符串常量池放在堆里了。主要在堆里开辟内存，隶属于堆，连续的物理内存。但是相互隔离。
	>
	> JDK1.8改名为元空间，`元空间不再虚拟机设置的内存中，而是使用本地内存`
	
	> *[常量池](https://blog.csdn.net/qq_43210583/article/details/116558468)是方法区比较重要的一部分，分为四种：类文件常量池（静态常量池，[字节码文件解析](https://blog.csdn.net/n_fly/article/details/114026651) ），字符串常量池，运行时常量池，封装类常量池。类文件常量池中的数据在类加载的时候会放入到运行时常量池中，并将符号引用在解析阶段转换成运行时常量池中的直接引用。*
	
	| type     | explain                                                      |
	| -------- | ------------------------------------------------------------ |
	| 字面量   | 文本字符串（代码中双括号包裹的字符串）<br />声明为final的常量<br />基本数据类型的表示及属性方法明 |
	| 符号引用 | 类符号引用：类的完全限定名<br />字段的名称和描述符<br />方法的名称和描述符 |

- 堆

- 虚拟机栈
	
	- 局部变量表

## 垃圾回收器

## 垃圾回收算法

## 常见问题

* 新生代到老年代的标准
  1. -XX:MaxTenuringThreshlod设置的默认对象年龄【15】，因为对象年龄用4bit 位表示，最大1111(15)。
  2. 动态对象年龄判断：survivor区域中年龄从低到高对象大小总和大于-XX:TargetSurvivorRatio[:50%]，则将当前年龄及大雨当前年龄的对象晋升。[误区](https://wenku.baidu.com/view/e90d99cc142ded630b1c59eef8c75fbfc77d94a0.html )
  3. 大对象直接进入老年代：-XX:PretenureSizeThreshold。超过这个值的对象直接放在老年代。
  4. 空间分配担保机制：![](/Users/stevenobelia/Desktop/knownledges/images/HandlerPromotionFailure.png)
* GCROOT 对象
  1. 每个帧栈局部变量表
  2. 常量池中引用的对象。
  3. 方法区中静态变量引用的对象。



## 调优
